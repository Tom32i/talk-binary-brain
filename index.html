<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>The Binary Brain</title>

        <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="node_modules/reveal.js/css/theme/black.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="node_modules/reveal.js/lib/css/zenburn.css">
        <!--link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"-->

        <style type="text/css">
            .reveal section h1, .reveal section h2, .reveal section h3, .reveal section h4, .reveal section h5, .reveal section h6 {
                font-family: "Open sans";
            }
            .reveal section img.no-border {
                border: none;
                box-shadow: none;
            }

            .reveal section code.multiligne {
                word-wrap: break-word;
            }

            .reveal section .blocks {
                display: block;
                font-size: 0.7em;
            }

            .reveal section .blocks .block {
                display: inline-block;
                margin: 0 10px;
            }

            .reveal section iframe {
                width: 100%;
                height: 500px;
            }
        </style>
        <meta but-du-talk="Monter que manipuler des donn√©es binaire en JS c'est √† port√©e de main.">
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section data-background="#000000">
                    <h1>The Binary Brain</h1>
                    <img class="no-border" src="img/intro.jpg">
                </section>
                <section>
                    <section data-background="#5dbab6">
                        <h2 style="color: white;">SPINE</h2>
                        <!-- Besoins du serious game: dessiner dans le cerveau humain -->
                        <!-- Crowdsourcer la recherche en neurologie -->
                    </section>
                </section>
                <section>
                    <section>
                        <h2>IRM</h2>
                        <small>Imagerie par R√©sonance Magn√©tique</small>
                    </section>
                    <section>
                        <h2>Image 3D / Voxel</h2>
                        <!-- CSS 3D grid? -->
                    </section>
                    <section>
                        <h2>Format Nifti-1</h2>
                        <p>my_brain.nii</p>
                    </section>
                    <section>
                        <h1>ü§ñ</h1>
                        <p>001100100100010101110101010011100101011010101011</p>
                        <!-- Animation binaire qui se remplie ? -->
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Le binaire</h2>
                    </section>
                    <section>
                        <h3>0, 1, 10, 11, 100</h3>
                    </section>
                    <section>
                        <h3 class="">1 bit = 0 ou 1</h3>
                        <h3 class="fragment">1 octet = 8 bits = 10010110</h3>
                        <h3 class="fragment">1 Ko = 1024 octets = 8192 bits</h3>
                        <!--h3 class="fragment">1 GoT = 536,870,912 octets</h3-->
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Representer l'information</h2>
                    </section>
                    <section>
                        <h3>8 bit pour 1 entier non-sign√©:</h3>
                        <p>00000000 = 0</p>
                        <p>11111111 = 255</p>
                    </section>
                    <section>
                        <h3>16 bit pour 1 entier non-sign√©:</h3>
                        <p>0000000000000000 = 0</p>
                        <p>1111111111111111 = 65 535</p>
                    </section>
                    <!--section>
                        <h3>1 bit pour 1 entier sign√©:</h3>
                        <p>0 0000000 = -128</p>
                        <p>1 1111111 = +127</p>
                    </section-->
                    <section>
                        <!-- Une donn√©e binaire n'a pas de format a priori -->
                        <!-- example d'un fichier lisible dans plusieurs format ?! -->
                        <p>
                            <span class="fragment highlight-red">00110010</span><span class="fragment highlight-blue">01000101</span><span class="fragment highlight-green">0000010101001110</span><span class="fragment highlight-red">01010110</span><span class="fragment highlight-blue">10101011</span>
                        </p>
                        <p class="fragment">
                            <span class="fragment highlight-red">50</span><span class="fragment highlight-blue">69</span><span class="fragment highlight-green">1358</span><span class="fragment highlight-red">86</span><span class="fragment highlight-blue">171</span>
                        </p>
                    </section>
                    <section>
                        <h3>Num√©ro de s√©curit√© social</h3>
                        <p>
                            <span class="fragment highlight-red">1</span><span class="fragment highlight-blue">89</span><span class="fragment highlight-green">10</span><span class="fragment highlight-red">38</span><span class="fragment highlight-blue">151</span><span class="fragment highlight-green">050</span><span class="fragment highlight-red">37</span>
                        </p>
                    </section>
                    <section data-background="img/adn.jpg">
                        <!--p class="fragment">1 bit -> 1 nucl√©otide (base 4 ad√©nine (A), la thymine (T), la cytosine (C) et la guanine (G).</p-->
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Manipuler du binaire en Javascript</h2>
                    </section>
                    <section>
                        <h3>ArrayBuffer</h3>
<pre><code class="hljs js">const buffer = new ArrayBuffer(byteLength)</code></pre>
                    </section>
                    <section>
                        <h3>TypedArrays</h3>
<pre><code class="hljs js">const view = new Uint8Array(buffer)</code></pre>
                    </section>
                    <section>
<pre><code class="hljs js">const view = new Uint8Array(buffer)</code></pre>
                        <p class="blocks">
                            <span class="block">00110010</span>
                            <span class="block">01000101</span>
                            <span class="block">00000101</span>
                            <span class="block">01001110</span>
                            <span class="block">01010110</span>
                            <span class="block">10101011</span>
                        </p>
<pre class="fragment"><code class="hljs js">[50, 69, 5, 78, 86, 171]</code></pre>
<!--pre class="fragment"><code class="hljs js">view[2] = 50;</code></pre-->
                    </section>
                    <section>
<pre><code class="hljs js">const view = new Uint16Array(buffer)</code></pre>
                        <p class="blocks">
                            <span class="block">0011001001000101</span>
                            <span class="block">0000010101001110</span>
                            <span class="block">0101011010101011</span>
                        </p>
<pre class="fragment"><code class="hljs js">[12869, 1358, 22187]</code></pre>
                    </section>
                    <section>
                        <h3>Ecriture</h3>
                        <p>Attention √©criture nombre trop grand.</p>
                    </section>
                    <section>
                        <h3>Autre utilitaires:</h3>
                        <ul>
                            <li>D√©couper ou coller des buffers</li>
                            <li>Ouvrir une vue sur une portion pr√©cise du buffer</li>
                            <li>Acc√®s par pointer</li>
                            <li>Manipulation logigue: d√©calage de bit</li>
                        </ul>
                    </section>
                    <section>
                        <h3>Tableaux typ√© PHP ?!</h3>
                    </section>
                </section>
                <section>
                    <section>
                        <h3>Recevoir des donn√©es existante</h3>
                    </section>
                    <section>
                        <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a>
<pre><code class="hljs js">const request = new XMLHttpRequest();
request.addEventListener('load', function onLoad() {
    const buffer = request.response;
});
request.responseType = 'arraybuffer';
request.open('GET', 'http://my.brain.com/my_brain.nii');
request.send();</code></pre>
                    </section>
                    <section>
                        <a href="https://developer.mozilla.org/en/docs/Web/API/FileReader">FileReader</a>
<pre><code class="hljs js">const file = document.getElementById('my-file').files[0];
const buffer = new FileReader().readAsArrayBuffer(file);</code></pre>
                    </section>
                    <section>
                        <a href="https://developer.mozilla.org/en/docs/Web/API/FileReader">WebSocket</a>
<pre><code class="hljs js">const socket = new WebSocket('ws://localhost');
socket.binaryType = 'arraybuffer';
socket.send(buffer);
// ---
socket.on('message', (event) => { const buffer = event.data; })</code></pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>La spec Nifti-1</h2>
                    </section>
                    <section>
                        <h3>Header sur 348 octets</h3>
                        <p class="fragment">#40: Nombre de dimensions (3 ou 4 üëΩ)</p>
                        <p class="fragment">#42, #44, #46: Dimensions X, Y et Z</p>
                        <p class="fragment">Information d'√©chelles, description, ect.</p>
                    </section>
                    <section>
                        <h3>Body √† partir de l'octet 352</h3>
                        <p>"Les voxel, dans l'ordre"</p>
                        <!-- Analogie du livre:
                        soit un livre dont chaque ligne contient le m√™me nombre de mot et chaque page le m√™me nombre de ligne.
                        Le 3√®me mot de la ligne 5 de la page 127;
                        const mot = numero + ligne * motParLigne + page * motParPage;
                        motParPage = motParPage * ligneParPage;
                        -->
                        <p>const index = x + y * (X) + z * (X * Y)</p>
                        <pre><code>[0,0,0][1,0,0][2,0,0]
[0,1,0][1,1,0][2,1,0]
[0,2,0][1,2,0][2,2,0]

[0,0,1][1,0,1][2,0,1]
[0,1,1][1,1,1][2,1,1]
[0,2,1][1,2,1][2,2,1]

[0,0,2][1,0,2][2,0,2]
[0,1,2][1,1,2][2,1,2]
[0,2,2][1,2,2][2,2,2]</code></pre>
                    </section>
                    <section>
                        <iframe src="http://localhost:8032/"></iframe>
                    </section>
                    <!--section>
                        Explication lecture ?
                        - read buffer
                        - Dataview: get info du header
                        - UintArray: body
                        - Calcul de la slice
                        - Cr√©ation de l'image
                    </section-->
                    <!--section>
                        Explication √©criture ?
                        - create buffer
                        - Dataview: set info du header
                        - UintArray: body
                        - Calcul de la slice
                        - Cr√©ation de l'image
                    </section-->
                    <!--section>
                        Demo dans slicer ?
                    </section-->
                </section>
                <section>
                    <section>
                        <h2>Pourquoi c'est rapide ?</h2>
                    </section>
                    <section>
                        <h3>Le poids</h3>

                        <h4>Json:<br><small>54 octets (54 charact√®res)</small></h4>
                        <pre><code class="hjs json">{ "event": "position", "id": 19, "x": 125, "y": 158 }</code></pre>

                        <h4>Binaire:<br><small>6 octets (1 + 1 + 2 + 2)</small></h4>
                        <pre><code class="hjs">[event sur 1 octet][id sur 1 octet][x sur 2 octets][y sur 2 octets]</code></pre>
                    </section>
                    <section>
                        <h3>Encodage / d√©codage</h3>
                        <h4>Exemple de Agar.io</h4>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Le bon</h2>
                        <ul>
                            <li>Poids</li>
                            <li>Vitesse</li><!-- Ex: langue natal -->
                            <li>Support</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Le moins bon</h2>
                        <ul>
                            <li>Rigoureux</li>
                            <li>Debug</li>
                            <li>Pas lisible</li>
                        </ul>
                    </section>
                    <section>
                        <h3>Exemples d'utilisation</h3>
                        <ul>
                            <li>Supporter un format exterieur : nifti-1</li>
                            <li>R√©duire la consomation r√©seau et CPU d'un jeu temps r√©el</li>
                            <li>Faire de la manipulation d'image avanc√©e: instagram</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <h3>Sources et remerciements</h3>
                    <p>Le projet Spine: AppStore?</p>
                    <p>MDN: resources JS</p>
                    <p><a href="https://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields">Spec nitfi-1</a></p>
                    <!--p>Emeric</p-->
                </section>
            </div>
        </div>

        <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
        <script src="node_modules/reveal.js/js/reveal.js"></script>

        <script>
            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,
                overview: false,
                help: false,

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'node_modules/reveal.js/plugin/markdown/marked.js' },
                    { src: 'node_modules/reveal.js/plugin/markdown/markdown.js' },
                    { src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });
        </script>
    </body>
</html>
